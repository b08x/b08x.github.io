<nav class="p-4 bg-surface rounded-lg border border-border" aria-labelledby="toc-heading">
  <h3
    id="toc-heading"
    class="text-sm font-bold uppercase mb-3 text-muted"
  >
    <svg class="w-4 h-4 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
    </svg>
    On This Page
  </h3>

  <ul id="toc-list" class="space-y-2 text-sm list-none p-0 m-0">
    <!-- Populated by JavaScript -->
  </ul>
</nav>

<style>
  #toc-list a {
    display: block;
    padding: 0.25rem 0.5rem;
    color: var(--text-muted);
    text-decoration: none;
    border-left: 2px solid transparent;
    transition: all 150ms ease;
    border-radius: 0.25rem;
  }

  #toc-list a:hover {
    color: var(--text-accent);
    background: var(--bg-surface);
  }

  #toc-list a.active {
    color: var(--text-accent);
    border-left-color: var(--text-accent);
    background: rgba(var(--accent-rgb), 0.1);
    font-weight: 600;
  }

  #toc-list a:focus-visible {
    outline: 2px solid var(--text-accent);
    outline-offset: 2px;
  }

  #toc-list .toc-h3 {
    padding-left: 1rem;
    font-size: 0.85em;
    opacity: 0.7;
  }

  #toc-list .toc-h3.active {
    color: var(--text-accent);
    opacity: 1;
  }
</style>
