@import "tailwindcss";
@config "../../tailwind.config.js";

@theme {
    --color-prose-body: var(--foreground);
    --color-prose-headings: var(--foreground);
    --color-prose-lead: var(--foreground);
    --color-prose-links: var(--accent);
    --color-prose-bold: var(--foreground);
    --color-prose-counters: var(--muted);
    --color-prose-bullets: var(--muted);
    --color-prose-hr: var(--border);
    --color-prose-quotes: var(--foreground);
    --color-prose-quote-borders: var(--accent);
    --color-prose-captions: var(--muted);
    --color-prose-code: var(--foreground);
    --color-prose-pre-code: var(--foreground);
    --color-prose-pre-bg: var(--bg-code);
    --color-prose-th-borders: var(--border);
    --color-prose-td-borders: var(--border);
}

@layer components {

    /* Backlink Box - migrated from _style.scss */
    .backlink-box {
        @apply bg-surface p-4 rounded border border-border;
    }

    /* Invalid Link Styling - migrated from _style.scss */
    .invalid-link {
        @apply text-muted cursor-help px-1;
        background: rgba(74, 74, 74, 0.5);
    }

    .invalid-link-brackets {
        @apply text-muted cursor-help;
    }

    /* Theme Toggle Button - migrated from nav.html inline styles */
    .theme-toggle-btn {
        @apply bg-surface border border-border rounded-md p-2 cursor-pointer;
        @apply flex items-center justify-center;
        @apply transition-all duration-fast;
    }

    .theme-toggle-btn:hover {
        @apply bg-popover scale-105;
    }

    .theme-toggle-btn:active {
        @apply scale-95;
    }

    /* Scroll-Up Navigation Header - Auto-hiding header on scroll */
    #site-header.header-hidden {
        transform: translateY(-100%);
    }

    /* ========================================
       CODE BLOCK STYLING - Migrated from _sass/_code.scss
       Rouge syntax highlighting for terminal theme
       ======================================== */

    .highlight {
        background: var(--bg-code);
        border: 1px solid var(--border);
        padding: 1em;
        border-radius: var(--radius-md);
        font-size: 0.9em;
        overflow: auto;
        margin: 1em 0;
    }

    .highlight code {
        padding: 0;
        background: transparent;
        border: none;
        white-space: pre-wrap;
    }

    div.highlight {
        display: grid;
    }

    .highlight .c { color: var(--muted); font-style: italic; }
    .highlight .err { color: var(--chart-5); background-color: rgba(255, 68, 102, 0.15); }
    .highlight .k { color: var(--accent); font-weight: bold; }
    .highlight .o { color: var(--chart-1); font-weight: normal; }
    .highlight .cm { color: var(--muted); font-style: italic; }
    .highlight .cp { color: var(--muted); font-weight: bold; }
    .highlight .c1 { color: var(--muted); font-style: italic; }
    .highlight .cs { color: var(--muted); font-weight: bold; font-style: italic; }
    .highlight .gd { color: var(--chart-5); background-color: rgba(255, 68, 102, 0.15); }
    .highlight .gd .x { color: var(--chart-5); background-color: rgba(255, 68, 102, 0.2); }
    .highlight .ge { font-style: italic; }
    .highlight .gr { color: var(--chart-5); }
    .highlight .gh { color: var(--foreground); font-weight: bold; }
    .highlight .gi { color: var(--chart-3); background-color: rgba(80, 200, 120, 0.15); }
    .highlight .gi .x { color: var(--chart-3); background-color: rgba(80, 200, 120, 0.2); }
    .highlight .go { color: var(--muted); }
    .highlight .gp { color: var(--muted); }
    .highlight .gs { font-weight: bold; }
    .highlight .gu { color: var(--accent); }
    .highlight .gt { color: var(--chart-5); }
    .highlight .kc { font-weight: bold; color: var(--accent); }
    .highlight .kd { font-weight: bold; color: var(--accent); }
    .highlight .kp { font-weight: bold; color: var(--accent); }
    .highlight .kr { font-weight: bold; color: var(--accent); }
    .highlight .kt { color: var(--chart-2); font-weight: bold; }
    .highlight .m { color: var(--chart-2); }
    .highlight .s { color: var(--chart-3); }
    .highlight .na { color: var(--chart-4); }
    .highlight .nb { color: var(--chart-2); }
    .highlight .nc { color: var(--chart-4); font-weight: bold; }
    .highlight .no { color: var(--chart-2); }
    .highlight .ni { color: var(--chart-1); }
    .highlight .ne { color: var(--chart-5); font-weight: bold; }
    .highlight .nf { color: var(--chart-4); font-weight: bold; }
    .highlight .nn { color: var(--muted); }
    .highlight .nt { color: var(--chart-1); }
    .highlight .nv { color: var(--chart-2); }
    .highlight .ow { font-weight: normal; color: var(--chart-1); }
    .highlight .w { color: var(--muted); }
    .highlight .mf { color: var(--chart-2); }
    .highlight .mh { color: var(--chart-2); }
    .highlight .mi { color: var(--chart-2); }
    .highlight .mo { color: var(--chart-2); }
    .highlight .sb { color: var(--chart-3); }
    .highlight .sc { color: var(--chart-3); }
    .highlight .sd { color: var(--chart-3); }
    .highlight .s2 { color: var(--chart-3); }
    .highlight .se { color: var(--chart-3); }
    .highlight .sh { color: var(--chart-3); }
    .highlight .si { color: var(--chart-3); }
    .highlight .sx { color: var(--chart-3); }
    .highlight .sr { color: var(--chart-1); }
    .highlight .s1 { color: var(--chart-3); }
    .highlight .dl { color: var(--chart-3); }
    .highlight .ss { color: var(--chart-1); }
    .highlight .bp { color: var(--chart-2); }
    .highlight .vc { color: var(--chart-2); }
    .highlight .vg { color: var(--chart-2); }
    .highlight .vi { color: var(--chart-2); }
    .highlight .il { color: var(--chart-2); }
}