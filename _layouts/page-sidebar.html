---
layout: default
---
<!-- Page Sidebar Structure -->
<div class="flex flex-col gap-12">

  <!-- Hero/Header Section -->
  <header class="mb-10 pb-8 border-b-2" style="border-color: var(--border-primary)">
    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight" style="color: var(--text-primary)">
      {{ page.title }}
    </h1>
    {% if page.description %}
    <p class="text-xl md:text-2xl mt-4 leading-relaxed" style="color: var(--text-secondary); max-width: 48rem;">
      {{ page.description }}
    </p>
    {% endif %}
  </header>

  <div class="flex flex-col lg:flex-row gap-12">
    <!-- Main Content Column -->
    <div class="flex-1 min-w-0">
      <div class="prose prose-base lg:prose-lg xl:prose-xl max-w-none">
        {{ content }}
      </div>
    </div>

    <!-- Sidebar Column -->
    <aside class="w-full lg:w-80 lg:flex-shrink-0 lg:sticky lg:top-8 lg:self-start max-w-xs" id="page-sidebar"
      aria-label="Page sidebar navigation and resources">

      <!-- Mobile Toggle Button -->
      <button id="sidebar-toggle" class="lg:hidden w-full mb-4 px-4 py-2 rounded flex items-center justify-between"
        style="background: var(--bg-secondary); color: var(--text-primary)" aria-expanded="true"
        aria-controls="sidebar-content">
        <span class="font-semibold">Contents & Resources</span>
        <svg class="w-5 h-5 transition-transform rotate-180" style="color: var(--text-secondary)" aria-hidden="true"
          fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>

      <!-- Sidebar Widgets -->
      <div id="sidebar-content" class="space-y-8">
        {% if page.toc %}
        {% include page_sidebar/toc.html %}
        {% endif %}

        {% if page.audio_file or page.videos %}
        {% include page_sidebar/media_widgets.html %}
        {% endif %}

        {% if page.sources %}
        {% include page_sidebar/references.html %}
        {% endif %}

        {% unless page.toc or page.audio_file or page.videos or page.sources %}
        <div class="p-4 rounded border border-dashed text-center"
          style="border-color: var(--border); background: var(--bg-secondary); color: var(--text-secondary)">
          <p class="text-xs">No active widgets</p>
        </div>
        {% endunless %}
      </div>
    </aside>
  </div>
</div>

<script src="{{ site.baseurl }}/assets/js/page-sidebar.js" defer></script>