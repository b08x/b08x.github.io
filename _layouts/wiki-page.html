---
layout: wiki-layout
# Sidebar config handled by wiki-layout logic (if needed can be re-added params)
content_max_width: max-w-none
show_graph: true
---

<header class="mb-12">
    {% assign wiki_data = site.data.wikis[page.wiki_id] %}
    <!-- <h1 class="text-4xl font-prose font-bold mb-4 text-foreground">
        {{ page.title }}
    </h1> -->
    <div class="text-sm font-mono flex gap-4 text-foreground/75">
        <span>
            <span class="opacity-70">Wiki:</span> <a href="{{ site.baseurl }}/wikis/{{ page.wiki_id }}/"
                class="hover:text-accent">{{ page.wiki_id | replace: "-", " " | capitalize }}</a>
        </span>
        <span>
            <span class="opacity-70">Generated:</span> {{ wiki_data.metadata.generated_at | date: "%Y-%m-%d" }}
        </span>
    </div>
</header>

<div class="wiki-content prose font-prose max-w-none">
    <div class="wiki-page-body">
        {{ content }}
    </div>

    {% if page.pagination.previous or page.pagination.next %}
    <nav class="wiki-pagination mt-12 mb-8" aria-label="Wiki page navigation">
        <div
            class="flex flex-col sm:flex-row items-center justify-between gap-4 p-6 border border-border bg-surface rounded">
            <!-- Previous Page -->
            <div class="w-full sm:w-auto">
                {% if page.pagination.previous %}
                <a href="{{ site.baseurl }}{{ page.pagination.previous.url }}"
                    class="inline-flex flex-col items-start gap-1 p-4 border border-border bg-background rounded hover:border-accent hover:text-accent transition-all group w-full sm:min-w-[200px]"
                    rel="prev">
                    <span class="text-[10px] font-mono uppercase tracking-widest opacity-70">Previous</span>
                    <span
                        class="text-sm font-prose font-semibold line-clamp-1 italic text-foreground/75 group-hover:text-accent">{{
                        page.pagination.previous.title }}</span>
                </a>
                {% else %}
                <div class="p-4 border border-border/30 bg-background/50 rounded opacity-30 w-full sm:min-w-[200px]">
                    <span class="text-[10px] font-mono uppercase tracking-widest">Previous (None)</span>
                </div>
                {% endif %}
            </div>

            <!-- Next Page -->
            <div class="w-full sm:w-auto">
                {% if page.pagination.next %}
                <a href="{{ site.baseurl }}{{ page.pagination.next.url }}"
                    class="inline-flex flex-col items-end gap-1 p-4 border border-border bg-background rounded hover:border-accent hover:text-accent transition-all group text-right w-full sm:min-w-[200px]"
                    rel="next">
                    <span class="text-[10px] font-mono uppercase tracking-widest opacity-70">Next</span>
                    <span
                        class="text-sm font-prose font-semibold line-clamp-1 italic text-foreground/75 group-hover:text-accent">{{
                        page.pagination.next.title }}</span>
                </a>
                {% else %}
                <div
                    class="p-4 border border-border/30 bg-background/50 rounded opacity-30 text-right w-full sm:min-w-[200px]">
                    <span class="text-[10px] font-mono uppercase tracking-widest">Next (None)</span>
                </div>
                {% endif %}
            </div>
        </div>
    </nav>
    {% endif %}

    {% if page.file_paths.size > 0 or page.related_pages.size > 0 %}
    <footer class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
        {% if page.file_paths.size > 0 %}
        <div class="p-4 rounded border bg-surface border-border">
            <div class="text-[10px] font-bold uppercase tracking-widest mb-3 opacity-70">Source Context</div>
            <div class="flex flex-wrap gap-2">
                {% for fp in page.file_paths %}
                <span class="px-2 py-0.5 text-[11px] border border-border bg-background rounded-sm">
                    {{ fp }}
                </span>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        {% if page.related_pages.size > 0 %}
        <div class="p-4 rounded border bg-surface border-border">
            <div class="text-[10px] font-bold uppercase tracking-widest mb-3 opacity-70">Related Pages</div>
            <div class="flex flex-wrap gap-2">
                {% for rp in page.related_pages %}
                {% if rp.url %}
                <a href="{{ site.baseurl }}{{ rp.url }}"
                    class="px-2 py-0.5 text-[11px] border border-border bg-background rounded-sm hover:border-accent hover:text-accent transition-colors">
                    {{ rp.title }}
                </a>
                {% else %}
                <span class="px-2 py-0.5 text-[11px] border border-border bg-background rounded-sm opacity-50">
                    {{ rp.id | replace: "-", " " | capitalize }}
                </span>
                {% endif %}
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </footer>
    {% endif %}
</div>